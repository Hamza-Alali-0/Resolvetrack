{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/Navbar.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { Dialog } from \"@headlessui/react\";\nimport { FaBars, FaTimes } from \"react-icons/fa\";\nimport { useSession, signOut } from \"next-auth/react\";\nimport { useRouter } from \"next/navigation\"; \nconst Navbar = () => {\n  const { data: session } = useSession();\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const router = useRouter(); // Initialize useRouter\n\n  const isAdmin = session?.user?.email === 'admin@gmail.com';\n\n  const navigation = [\n    { name: \"Home\", href: \"/home\" },\n    { name: isAdmin ? \"Admin Dashboard\" : \"Dashboard\", href: isAdmin ? \"/admin/dashboard\" : \"/dashboard\" },\n    { name: isAdmin ? \"Postes\" : \"Reclamer\", href: isAdmin ? \"/admin/inventaire\" : \"/reclamations\" },\n  ];\n\n  const handleMobileMenuToggle = () => {\n    setMobileMenuOpen((prev) => !prev);\n  };\n\n  const handleSignOut = async () => {\n    await signOut({ redirect: false }); // Prevent redirection\n    router.push(\"/\"); // Redirect manually\n  };\n\n  return (\n    <header className=\"bg-white shadow-sm\">\n      <nav className=\"mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8\" aria-label=\"Global\">\n        <div className=\"flex lg:flex-1\">\n          <Link href=\"/home\" className=\"-m-1.5 p-1.5\">\n            <span className=\"sr-only\">Plastima</span>\n            <Image src=\"/logo.jpg\" width={140} height={90} alt=\"Plastima logo\" />\n          </Link>\n        </div>\n        <div className=\"hidden lg:flex lg:gap-x-12\">\n          {navigation.map((item) => (\n            <Link\n              key={item.name}\n              href={item.href}\n              className=\"text-sm font-semibold leading-6 text-gray-900 hover:text-yellow-600 hover:bg-gray-50 transition-colors duration-300 rounded-md px-3 py-2\"\n            >\n              {item.name}\n            </Link>\n          ))}\n        </div>\n        <div className=\"flex flex-1 items-center justify-end gap-x-6\">\n          {!session ? (\n            <>\n              <Link\n                href=\"/login\"\n                className=\"hidden lg:block text-sm font-semibold leading-6 text-gray-900\"\n              >\n                Log in\n              </Link>\n              <Link\n                href=\"/register\"\n                className=\"rounded-md bg-black px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-900 transition-colors duration-300\"\n              >\n                Sign up\n              </Link>\n            </>\n          ) : (\n            <>\n              <span className=\"text-sm font-medium text-gray-900\">{session.user?.email}</span>\n              <button\n                onClick={handleSignOut}\n                className=\"text-sm font-semibold leading-6 text-gray-900 hover:text-yellow-600\"\n              >\n                Log out\n              </button>\n            </>\n          )}\n          <button\n            type=\"button\"\n            className=\"-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700 lg:hidden\"\n            onClick={handleMobileMenuToggle}\n          >\n            <span className=\"sr-only\">Open main menu</span>\n            <FaBars className=\"h-6 w-6\" aria-hidden=\"true\" />\n          </button>\n        </div>\n      </nav>\n\n      <Dialog as=\"div\" className=\"lg:hidden\" open={mobileMenuOpen} onClose={() => setMobileMenuOpen(false)}>\n        <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\n        <Dialog.Panel className=\"fixed inset-y-0 right-0 z-10 w-full max-w-sm bg-white px-6 py-6 sm:ring-1 sm:ring-gray-900/10\">\n          <div className=\"flex items-center justify-between\">\n            <Link href=\"/home\" className=\"-m-1.5 p-1.5\">\n              <span className=\"sr-only\">Plastima</span>\n              <Image width={140} height={60} src=\"/logo.jpg\" alt=\"Plastima logo mobile\" />\n            </Link>\n            <button\n              type=\"button\"\n              className=\"-m-2.5 p-2.5 text-gray-700\"\n              onClick={() => setMobileMenuOpen(false)}\n            >\n              <span className=\"sr-only\">Close menu</span>\n              <FaTimes className=\"h-6 w-6\" aria-hidden=\"true\" />\n            </button>\n          </div>\n          <div className=\"mt-6 space-y-2\">\n            {navigation.map((item) => (\n              <Link\n                key={item.name}\n                href={item.href}\n                className=\"block text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50 px-3 py-2 rounded-md\"\n              >\n                {item.name}\n              </Link>\n            ))}\n            {!session ? (\n              <>\n                <Link\n                  href=\"/login\"\n                  className=\"block rounded-md bg-black px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-900 transition-colors duration-300\"\n                >\n                  Log in\n                </Link>\n                <Link\n                  href=\"/register\"\n                  className=\"block rounded-md bg-black px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-900 transition-colors duration-300\"\n                >\n                  Sign up\n                </Link>\n              </>\n            ) : (\n              <>\n                <span className=\"block text-sm font-medium text-gray-900\">{session.user?.email}</span>\n                <button\n                  onClick={handleSignOut}\n                  className=\"block w-full rounded-md bg-black px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-900 transition-colors duration-300\"\n                >\n                  Log out\n                </button>\n              </>\n            )}\n          </div>\n        </Dialog.Panel>\n      </Dialog>\n    </header>\n  );\n};\n\nexport default Navbar;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 357, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/EditpostForm.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Post } from \"./PostList\";\r\n\r\ninterface EditPostFormProps {\r\n  post: Post;\r\n  onSave: (updatedPost: Post) => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst EditPostForm: React.FC<EditPostFormProps> = ({\r\n  post,\r\n  onSave,\r\n  onCancel,\r\n}) => {\r\n  const [updatedPost, setUpdatedPost] = useState<Post>({ ...post });\r\n\r\n  const handleInputChange = (\r\n    event: React.ChangeEvent<HTMLInputElement>,\r\n    field: keyof Post\r\n  ) => {\r\n    setUpdatedPost({\r\n      ...updatedPost,\r\n      [field]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n    event.preventDefault();\r\n    onSave(updatedPost);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} style={{ textAlign: \"center\" }}>\r\n      <div style={{ marginBottom: \"10px\" }}>\r\n        <label style={{ display: \"block\", marginBottom: \"5px\" }}>\r\n          Titre:\r\n          <input\r\n            type=\"text\"\r\n            value={updatedPost.title}\r\n            onChange={(e) => handleInputChange(e, \"title\")}\r\n            required\r\n            style={{ marginLeft: \"10px\", padding: \"5px\" }}\r\n          />\r\n        </label>\r\n      </div>\r\n      <div style={{ marginBottom: \"10px\" }}>\r\n        <label style={{ display: \"block\", marginBottom: \"5px\" }}>\r\n          Email:\r\n          <input\r\n            type=\"email\"\r\n            value={updatedPost.email}\r\n            onChange={(e) => handleInputChange(e, \"email\")}\r\n            required\r\n            style={{ marginLeft: \"10px\", padding: \"5px\" }}\r\n          />\r\n        </label>\r\n      </div>\r\n      <div style={{ marginBottom: \"10px\" }}>\r\n        <label style={{ display: \"block\", marginBottom: \"5px\" }}>\r\n          Nom Complet:\r\n          <input\r\n            type=\"text\"\r\n            value={updatedPost.fullname}\r\n            onChange={(e) => handleInputChange(e, \"fullname\")}\r\n            required\r\n            style={{ marginLeft: \"10px\", padding: \"5px\" }}\r\n          />\r\n        </label>\r\n      </div>\r\n      <div style={{ marginBottom: \"10px\" }}>\r\n        <label style={{ display: \"block\", marginBottom: \"5px\" }}>\r\n          Centre:\r\n          <input\r\n            type=\"text\"\r\n            value={updatedPost.centre}\r\n            onChange={(e) => handleInputChange(e, \"centre\")}\r\n            required\r\n            style={{ marginLeft: \"10px\", padding: \"5px\" }}\r\n          />\r\n        </label>\r\n      </div>\r\n      <div style={{ marginBottom: \"10px\" }}>\r\n        <label style={{ display: \"block\", marginBottom: \"5px\" }}>\r\n          Bureau:\r\n          <input\r\n            type=\"text\"\r\n            value={updatedPost.bureau}\r\n            onChange={(e) => handleInputChange(e, \"bureau\")}\r\n            required\r\n            style={{ marginLeft: \"10px\", padding: \"5px\" }}\r\n          />\r\n        </label>\r\n      </div>\r\n\r\n      <div style={{ marginTop: \"20px\" }}>\r\n        <button\r\n          type=\"submit\"\r\n          style={{\r\n            backgroundColor: \"#008000\",\r\n            color: \"#ffffff\",\r\n            padding: \"10px 20px\",\r\n            marginRight: \"10px\",\r\n            border: \"none\",\r\n            borderRadius: \"5px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          Save\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          onClick={onCancel}\r\n          style={{\r\n            backgroundColor: \"#ff0000\",\r\n            color: \"#ffffff\",\r\n            padding: \"10px 20px\",\r\n            border: \"none\",\r\n            borderRadius: \"5px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          Cancel\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditPostForm;\r\n"],"names":[],"mappings":";;;;;;;;AASA,MAAM,eAA4C,CAAC,EACjD,IAAI,EACJ,MAAM,EACN,QAAQ,EACT;IACC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAQ;QAAE,GAAG,IAAI;IAAC;IAE/D,MAAM,oBAAoB,CACxB,OACA;QAEA,eAAe;YACb,GAAG,WAAW;YACd,CAAC,MAAM,EAAE,MAAM,MAAM,CAAC,KAAK;QAC7B;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,cAAc;QACpB,OAAO;IACT;IAEA,qBACE,wPAAC;QAAK,UAAU;QAAc,OAAO;YAAE,WAAW;QAAS;;0BACzD,wPAAC;gBAAI,OAAO;oBAAE,cAAc;gBAAO;0BACjC,cAAA,wPAAC;oBAAM,OAAO;wBAAE,SAAS;wBAAS,cAAc;oBAAM;;wBAAG;sCAEvD,wPAAC;4BACC,MAAK;4BACL,OAAO,YAAY,KAAK;4BACxB,UAAU,CAAC,IAAM,kBAAkB,GAAG;4BACtC,QAAQ;4BACR,OAAO;gCAAE,YAAY;gCAAQ,SAAS;4BAAM;;;;;;;;;;;;;;;;;0BAIlD,wPAAC;gBAAI,OAAO;oBAAE,cAAc;gBAAO;0BACjC,cAAA,wPAAC;oBAAM,OAAO;wBAAE,SAAS;wBAAS,cAAc;oBAAM;;wBAAG;sCAEvD,wPAAC;4BACC,MAAK;4BACL,OAAO,YAAY,KAAK;4BACxB,UAAU,CAAC,IAAM,kBAAkB,GAAG;4BACtC,QAAQ;4BACR,OAAO;gCAAE,YAAY;gCAAQ,SAAS;4BAAM;;;;;;;;;;;;;;;;;0BAIlD,wPAAC;gBAAI,OAAO;oBAAE,cAAc;gBAAO;0BACjC,cAAA,wPAAC;oBAAM,OAAO;wBAAE,SAAS;wBAAS,cAAc;oBAAM;;wBAAG;sCAEvD,wPAAC;4BACC,MAAK;4BACL,OAAO,YAAY,QAAQ;4BAC3B,UAAU,CAAC,IAAM,kBAAkB,GAAG;4BACtC,QAAQ;4BACR,OAAO;gCAAE,YAAY;gCAAQ,SAAS;4BAAM;;;;;;;;;;;;;;;;;0BAIlD,wPAAC;gBAAI,OAAO;oBAAE,cAAc;gBAAO;0BACjC,cAAA,wPAAC;oBAAM,OAAO;wBAAE,SAAS;wBAAS,cAAc;oBAAM;;wBAAG;sCAEvD,wPAAC;4BACC,MAAK;4BACL,OAAO,YAAY,MAAM;4BACzB,UAAU,CAAC,IAAM,kBAAkB,GAAG;4BACtC,QAAQ;4BACR,OAAO;gCAAE,YAAY;gCAAQ,SAAS;4BAAM;;;;;;;;;;;;;;;;;0BAIlD,wPAAC;gBAAI,OAAO;oBAAE,cAAc;gBAAO;0BACjC,cAAA,wPAAC;oBAAM,OAAO;wBAAE,SAAS;wBAAS,cAAc;oBAAM;;wBAAG;sCAEvD,wPAAC;4BACC,MAAK;4BACL,OAAO,YAAY,MAAM;4BACzB,UAAU,CAAC,IAAM,kBAAkB,GAAG;4BACtC,QAAQ;4BACR,OAAO;gCAAE,YAAY;gCAAQ,SAAS;4BAAM;;;;;;;;;;;;;;;;;0BAKlD,wPAAC;gBAAI,OAAO;oBAAE,WAAW;gBAAO;;kCAC9B,wPAAC;wBACC,MAAK;wBACL,OAAO;4BACL,iBAAiB;4BACjB,OAAO;4BACP,SAAS;4BACT,aAAa;4BACb,QAAQ;4BACR,cAAc;4BACd,QAAQ;wBACV;kCACD;;;;;;kCAGD,wPAAC;wBACC,MAAK;wBACL,SAAS;wBACT,OAAO;4BACL,iBAAiB;4BACjB,OAAO;4BACP,SAAS;4BACT,QAAQ;4BACR,cAAc;4BACd,QAAQ;wBACV;kCACD;;;;;;;;;;;;;;;;;;AAMT;uCAEe"}},
    {"offset": {"line": 623, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 628, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/PostList.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { AiOutlineEdit, AiOutlineDelete } from \"react-icons/ai\";\r\nimport EditPostForm from \"./EditpostForm\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nexport interface Post {\r\n  _id: string;\r\n  email: string;\r\n  title: string;\r\n  fullname: string;\r\n  centre: string;\r\n  bureau: string;\r\n}\r\n\r\nconst PostList: React.FC = () => {\r\n  const [posts, setPosts] = useState<Post[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [selectedPost, setSelectedPost] = useState<Post | null>(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const response = await fetch(\"/api/display\");\r\n        if (!response.ok) throw new Error(\"Failed to fetch posts\");\r\n        const data = await response.json();\r\n        setPosts(data);\r\n        setLoading(false);\r\n      } catch (err: any) {\r\n        setError(err.message);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  const handleEdit = (post: Post) => {\r\n    setSelectedPost(post);\r\n    setIsEditing(true);\r\n  };\r\n  const handleSave = async (updatedPost: Post) => {\r\n    try {\r\n      const userResponse = await fetch(\"/api/emails\");\r\n      if (!userResponse.ok) throw new Error(\"Failed to fetch User emails\");\r\n  \r\n      const userData = await userResponse.json();\r\n      const existingEmails = userData;\r\n  \r\n      if (!existingEmails.includes(updatedPost.email)) {\r\n        toast.error(\"Email does not exist in User database\");\r\n        throw new Error(\"Email does not exist in User database\");\r\n      }\r\n  \r\n      const response = await fetch(`/api/edit/${updatedPost._id}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          newemail: updatedPost.email,\r\n          newtitle: updatedPost.title,\r\n          newfullname: updatedPost.fullname,\r\n          newcentre: updatedPost.centre,\r\n          newbureau: updatedPost.bureau\r\n        }),\r\n      });\r\n  \r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        console.log(\"Post updated successfully on the server:\", result.updatedPost);\r\n  \r\n        setPosts((prevPosts) =>\r\n          prevPosts.map((post) =>\r\n            post._id === updatedPost._id ? updatedPost : post\r\n          )\r\n        );\r\n        setIsEditing(false);\r\n        setSelectedPost(null);\r\n        toast.success(\"Post updated successfully\");\r\n      } else {\r\n        throw new Error(`Failed to update post with ID: ${updatedPost._id}`);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating post with ID:\", updatedPost._id, error);\r\n      toast.error(\"Error updating post\");\r\n    }\r\n  };\r\n  \r\n\r\n  const handleCancel = () => {\r\n    setIsEditing(false);\r\n    setSelectedPost(null);\r\n  };\r\n\r\n  const handleDelete = async (postId: string) => {\r\n    try {\r\n      const response = await fetch(`/api/delete/deletepost?id=${postId}`, {\r\n        method: \"DELETE\",\r\n      });\r\n\r\n      if (response.ok) {\r\n        setPosts((prevPosts) => prevPosts.filter((post) => post._id !== postId));\r\n        setSelectedPost(null);\r\n      } else {\r\n        console.error(`Failed to delete post with ID: ${postId}`);\r\n        toast.error(\"Failed to delete post\");\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error deleting post with ID: ${postId}`, error);\r\n      toast.error(\"Error deleting post\");\r\n    }\r\n  };\r\n\r\n  const handlePostClick = (post: Post) => {\r\n    setSelectedPost(post);\r\n  };\r\n\r\n  const handleCloseDetails = () => {\r\n    setSelectedPost(null);\r\n  };\r\n\r\n  const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSearchTerm(event.target.value);\r\n  };\r\n\r\n  const filteredPosts = posts.filter((post) =>\r\n    post.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    post.email.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  if (loading) {\r\n    return <p className=\"text-center text-gray-600\">Loading...</p>;\r\n  }\r\n\r\n  if (error) {\r\n    return <p className=\"text-red-600 text-center\">{error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"relative p-6 bg-gray-50 rounded-lg shadow-lg\">\r\n      <h1 className=\"text-2xl font-bold text-center mb-4\">Postes</h1>\r\n\r\n      <div className=\"mb-4 flex justify-center\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Chercher par Titre ou Email...\"\r\n          value={searchTerm}\r\n          onChange={handleSearchChange}\r\n          className=\"p-2 w-full max-w-md border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-[#ca8a04] focus:border-transparent\"\r\n        />\r\n      </div>\r\n\r\n      <table className=\"w-full border-collapse mb-4 bg-white shadow-md rounded-lg\">\r\n        <thead>\r\n          <tr className=\"bg-[#fef08a] text-black\">\r\n            <th className=\"p-3 text-left\">Titre</th>\r\n            <th className=\"p-3 text-left\">Email</th>\r\n            <th className=\"p-3 text-left\">Nom Complet</th>\r\n            <th className=\"p-3 text-left\">Centre</th>\r\n            <th className=\"p-3 text-left\">Bureau</th>\r\n            <th className=\"p-3 text-left\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredPosts.map((post, index) => (\r\n            <tr\r\n              key={post._id}\r\n              className={`border-b cursor-pointer ${index % 2 === 0 ? 'bg-gray-50' : 'bg-white'} hover:bg-gray-100`}\r\n              onClick={() => handlePostClick(post)}\r\n            >\r\n              <td className=\"p-3\">{post.title}</td>\r\n              <td className=\"p-3\">{post.email}</td>\r\n              <td className=\"p-3\">{post.fullname}</td>\r\n              <td className=\"p-3\">{post.centre}</td>\r\n              <td className=\"p-3\">{post.bureau}</td>\r\n              <td className=\"p-3 flex space-x-3\">\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleEdit(post);\r\n                  }}\r\n                  className=\"text-blue-500 hover:text-blue-700\"\r\n                >\r\n                  <AiOutlineEdit className=\"text-2xl\" />\r\n                </button>\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleDelete(post._id);\r\n                  }}\r\n                  className=\"text-red-500 hover:text-red-700\"\r\n                >\r\n                  <AiOutlineDelete className=\"text-2xl\" />\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      {selectedPost && !isEditing && (\r\n        <div className=\"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50\">\r\n          <div className=\"bg-white p-6 rounded-lg shadow-lg max-w-lg w-full\">\r\n            <div className=\"text-center\">\r\n              <h2 className=\"text-xl font-semibold mb-4\">{selectedPost.title}</h2>\r\n              <p><strong>Email:</strong> {selectedPost.email}</p>\r\n              <p><strong>Nom Complet:</strong> {selectedPost.fullname}</p>\r\n              <p><strong>Centre:</strong> {selectedPost.centre}</p>\r\n              <p><strong>Bureau:</strong> {selectedPost.bureau}</p>\r\n              <button\r\n                onClick={handleCloseDetails}\r\n                className=\"mt-4 bg-red-500 text-white px-4 py-2 rounded-md\"\r\n              >\r\n                Fermer\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {selectedPost && isEditing && (\r\n        <div className=\"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50\">\r\n          <div className=\"bg-white p-6 rounded-lg shadow-lg max-w-lg w-full\">\r\n            <EditPostForm\r\n              post={selectedPost}\r\n              onSave={handleSave}\r\n              onCancel={handleCancel}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1098, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1103, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/admin/inventaire/page.tsx"],"sourcesContent":["'use client';\r\nimport React from \"react\";\r\nimport Navbar from \"@/components/Navbar\";\r\nimport Link from \"next/link\";\r\nimport { FaUserPlus } from \"react-icons/fa\";\r\nimport PostList from '../../../components/PostList';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useSession } from 'next-auth/react';\r\n\r\nconst CreatePost = () => {\r\n  const { data: session, status } = useSession();\r\n  const router = useRouter();\r\n\r\n  // If user is not authenticated, redirect to login page\r\n  if (status === \"loading\") {\r\n    return <p className=\"text-center text-gray-600\">Loading...</p>;\r\n  }\r\n\r\n  if (!session) {\r\n    router.push('/login'); // Replace with your login page route\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <section className=\"relative bg-cover bg-center py-8 px-4\" style={{ backgroundImage: `url('../../assign.jpg')` }}>\r\n        <div className=\"absolute inset-0 bg-black bg-opacity-50\"></div>\r\n        <div className=\"relative z-10 max-w-3xl mx-auto text-white p-6 rounded-lg shadow-md\">\r\n          <div className=\"flex flex-col items-center\">\r\n            <h2 className=\"text-2xl font-semibold mb-4\">Assigner un Utilisateur Ã  un Poste</h2>\r\n            <span className=\"text-5xl mb-4\">\r\n              <FaUserPlus />\r\n            </span>\r\n            <Link\r\n  href=\"inventaire/AddPost\"\r\n  prefetch={true} // Enable prefetching\r\n  className=\"inline-block rounded-md bg-black px-4 py-2 border border-gray-500 text-sm font-semibold text-white shadow-sm hover:bg-white hover:text-black focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-opacity-50\"\r\n>\r\n  Ajouter Un Poste\r\n</Link>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <section className=\"relative z-10\">\r\n        <PostList />\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;;;;AASA,MAAM,aAAa;IACjB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,aAAU,AAAD;IAC3C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,uDAAuD;IACvD,IAAI,WAAW,WAAW;QACxB,qBAAO,wPAAC;YAAE,WAAU;sBAA4B;;;;;;IAClD;IAEA,IAAI,CAAC,SAAS;QACZ,OAAO,IAAI,CAAC,WAAW,qCAAqC;QAC5D,OAAO;IACT;IAEA,qBACE;;0BACE,wPAAC,qHAAA,CAAA,UAAM;;;;;0BACP,wPAAC;gBAAQ,WAAU;gBAAwC,OAAO;oBAAE,iBAAiB,CAAC,uBAAuB,CAAC;gBAAC;;kCAC7G,wPAAC;wBAAI,WAAU;;;;;;kCACf,wPAAC;wBAAI,WAAU;kCACb,cAAA,wPAAC;4BAAI,WAAU;;8CACb,wPAAC;oCAAG,WAAU;8CAA8B;;;;;;8CAC5C,wPAAC;oCAAK,WAAU;8CACd,cAAA,wPAAC,8IAAA,CAAA,aAAU;;;;;;;;;;8CAEb,wPAAC,4HAAA,CAAA,UAAI;oCACf,MAAK;oCACL,UAAU;oCACV,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;0BAMK,wPAAC;gBAAQ,WAAU;0BACjB,cAAA,wPAAC,uHAAA,CAAA,UAAQ;;;;;;;;;;;;AAIjB;uCAEe"}},
    {"offset": {"line": 1228, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}