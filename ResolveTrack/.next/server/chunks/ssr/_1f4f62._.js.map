{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ReclamationsForm.tsx"],"sourcesContent":["'use client';\r\nimport React, { useState, useEffect, ChangeEvent } from \"react\";\r\nimport { getSession } from \"next-auth/react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { AiOutlineIssuesClose } from \"react-icons/ai\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nexport interface Material {\r\n  _id: string;\r\n  email: string;\r\n  type: string;\r\n  models: string;\r\n  reference: string;\r\n  quantity: number;\r\n  date: string; // Added date field\r\n}\r\n\r\nconst UserMaterial: React.FC = () => {\r\n  const [materials, setMaterials] = useState<Material[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [selectedMaterial, setSelectedMaterial] = useState<Material | null>(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [searchType, setSearchType] = useState<string>(\"\");\r\n  const [searchReference, setSearchReference] = useState<string>(\"\");\r\n  const [message, setMessage] = useState<string>(\"\");\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const fetchUserMaterials = async () => {\r\n      const session = await getSession();\r\n\r\n      if (!session?.user) {\r\n        console.error(\"User is not authenticated.\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch(`/api/materiallist`);\r\n        if (!response.ok) {\r\n          throw new Error(\"Failed to fetch materials\");\r\n        }\r\n        const data = await response.json();\r\n        setMaterials(\r\n          data.filter((material: Material) => material.email === session?.user?.email)\r\n        );\r\n        setLoading(false);\r\n      } catch (err: any) {\r\n        setError(err.message);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUserMaterials();\r\n  }, []);\r\n\r\n  const handleEdit = (material: Material) => {\r\n    setSelectedMaterial(material);\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsEditing(false);\r\n    setSelectedMaterial(null);\r\n  };\r\n\r\n  const handleMaterialClick = (material: Material) => {\r\n    setSelectedMaterial(material);\r\n  };\r\n\r\n  const handleCloseDetails = () => {\r\n    setSelectedMaterial(null);\r\n  };\r\n\r\n  const handleBackToDashboard = () => {\r\n    router.push(\"/dashboard\");\r\n  };\r\n\r\n  const handleSearchTypeChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setSearchType(e.target.value);\r\n  };\r\n\r\n  const handleSearchReferenceChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setSearchReference(e.target.value);\r\n  };\r\n\r\n  const handleOpenMessageForm = () => {\r\n    setIsEditing(true); // Set editing mode to true to show the message form\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    try {\r\n      const session = await getSession();\r\n      if (!session?.user) {\r\n        throw new Error(\"User is not authenticated.\");\r\n      }\r\n\r\n      const formData = {\r\n        email: session.user.email,\r\n        type: selectedMaterial?.type,\r\n        model: selectedMaterial?.models,\r\n        reference: selectedMaterial?.reference,\r\n        message: message,\r\n        etat: 'en attente',\r\n        date: new Date().toISOString(), // Add the current date\r\n      };\r\n\r\n      const response = await fetch(\"/api/reclamations\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to send message.\");\r\n      }\r\n\r\n      toast.success(\"Message sent successfully!\");\r\n      setIsEditing(false);\r\n      setMessage(\"\");\r\n    } catch (error) {\r\n      toast.error(\"Failed to send message. Please try again later.\");\r\n    }\r\n  };\r\n\r\n  const filteredMaterials = materials.filter((material: Material) => {\r\n    const typeMatch = material.type.toLowerCase().includes(searchType.toLowerCase());\r\n    const referenceMatch = material.reference.toLowerCase().includes(searchReference.toLowerCase());\r\n    return typeMatch && referenceMatch;\r\n  });\r\n\r\n  if (loading) {\r\n    return <p className=\"text-center text-gray-600\">Loading...</p>;\r\n  }\r\n\r\n  if (error) {\r\n    return <p>{error}</p>;\r\n  }\r\n\r\n  return (\r\n    <div style={{ position: \"relative\" }}>\r\n      <button\r\n        onClick={handleBackToDashboard}\r\n        className=\"bg-yellow-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-opacity-50\"\r\n      >\r\n        &lt; \r\n      </button>\r\n\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <h3 style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\r\n          <div className=\"bg-yellow-600 rounded-full w-6 h-6 mr-2\"></div>\r\n          <div className=\"bg-yellow-600 rounded-full w-6 h-6 mr-2\"></div>\r\n          <div className=\"bg-yellow-600 rounded-full w-6 h-6 mr-2\"></div>\r\n          <AiOutlineIssuesClose className=\"text-6xl text-yellow-600 mt-4\" />\r\n          <div className=\"bg-yellow-600 rounded-full w-6 h-6 ml-2\"></div>\r\n          <div className=\"bg-yellow-600 rounded-full w-6 h-6 ml-2\"></div>\r\n          <div className=\"bg-yellow-600 rounded-full w-6 h-6 ml-2\"></div>\r\n        </h3>\r\n        <h3>Reclamer Un Probleme Materiel</h3>\r\n      </div>\r\n\r\n      <div style={{ marginTop: \"20px\", marginBottom: \"20px\", marginLeft: \"280px\" }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Chercher par Type...\"\r\n          value={searchType}\r\n          onChange={handleSearchTypeChange}\r\n          className=\"px-4 py-2 rounded-md border-gray-300 shadow-sm focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Chercher par Reference...\"\r\n          value={searchReference}\r\n          onChange={handleSearchReferenceChange}\r\n          className=\"px-4 py-2 rounded-md border-gray-300 shadow-sm focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm\"\r\n          style={{ marginLeft: \"10px\" }}\r\n        />\r\n      </div>\r\n      <br />\r\n      <h3>Choisir un materiel a reclamer :</h3>\r\n      <br />\r\n    \r\n      <table style={{ width: \"100%\", borderCollapse: \"collapse\", marginTop: \"10px\", marginLeft: \"10px\" }}>\r\n        <thead>\r\n          <tr style={{ borderBottom: \"1px solid #ddd\" }}>\r\n            <th style={{ padding: \"10px\", textAlign: \"left\" }}>Type</th>\r\n            <th style={{ padding: \"10px\", textAlign: \"left\" }}>Modele</th>\r\n            <th style={{ padding: \"10px\", textAlign: \"left\" }}>Reference</th>\r\n            <th style={{ padding: \"10px\", textAlign: \"left\" }}>Quantite</th>\r\n            <th style={{ padding: \"10px\", textAlign: \"left\" }}></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredMaterials.map((material) => (\r\n            <tr\r\n              key={material._id}\r\n              style={{ borderBottom: \"1px solid #ddd\", cursor: \"pointer\" }}\r\n              onClick={() => handleMaterialClick(material)}\r\n            >\r\n              <td style={{ padding: \"10px\" }}>{material.type}</td>\r\n              <td style={{ padding: \"10px\" }}>{material.models}</td>\r\n              <td style={{ padding: \"10px\" }}>{material.reference}</td>\r\n              <td style={{ padding: \"10px\" }}>{material.quantity}</td>\r\n              <td style={{ padding: \"10px\" }}>&lt; </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      {selectedMaterial && (\r\n        <div\r\n          style={{\r\n            position: \"absolute\",\r\n            top: \"40%\",\r\n            left: \"50%\",\r\n            transform: \"translate(-50%, -50%)\",\r\n            width: \"80%\",\r\n            maxWidth: \"600px\",\r\n            background: \"#ffffff\",\r\n            padding: \"20px\",\r\n            paddingTop: \"20px\",\r\n            boxShadow: \"0px 0px 10px rgba(0, 0, 0, 0.1)\",\r\n            zIndex: 1000,\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n              marginBottom: \"20px\",\r\n            }}\r\n          >\r\n            <h2 style={{ fontSize: \"24px\" }}>Details du Materiel</h2>\r\n            <button\r\n              onClick={handleCloseDetails}\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                fontSize: \"24px\",\r\n                cursor: \"pointer\",\r\n                color: \"#aaa\",\r\n              }}\r\n            >\r\n              &times;\r\n            </button>\r\n          </div>\r\n          <p>\r\n            <strong>Type:</strong> {selectedMaterial.type}\r\n          </p>\r\n          <p>\r\n            <strong>Modele:</strong> {selectedMaterial.models}\r\n          </p>\r\n          <p>\r\n            <strong>Reference:</strong> {selectedMaterial.reference}\r\n          </p>\r\n          <p>\r\n            <strong>Quantite:</strong> {selectedMaterial.quantity}\r\n          </p>\r\n         \r\n          {!isEditing && (\r\n            <div style={{ marginTop: \"20px\" }}>\r\n              <button\r\n                onClick={handleOpenMessageForm}\r\n                className=\"bg-yellow-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-opacity-50\"\r\n              >\r\n                Reclamer ce Materiel\r\n              </button>\r\n            </div>\r\n          )}\r\n          {isEditing && (\r\n            <div style={{ marginTop: \"20px\" }}>\r\n              <textarea\r\n                value={message}\r\n                onChange={(e) => setMessage(e.target.value)}\r\n                placeholder=\"Ecrire votre message ici...\"\r\n                className=\"w-full p-2 border rounded-md\"\r\n              />\r\n              <button\r\n                onClick={handleSendMessage}\r\n                className=\"bg-yellow-600 text-white px-4 py-2 rounded-lg shadow-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-opacity-50\"\r\n                style={{ marginTop: \"10px\" }}\r\n              >\r\n                Envoyer\r\n              </button>\r\n              <button\r\n                onClick={handleCancel}\r\n                className=\"bg-gray-500 text-white px-4 py-2 rounded-lg shadow-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-50\"\r\n                style={{ marginLeft: \"10px\", marginTop: \"10px\" }}\r\n              >\r\n                Annuler\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserMaterial;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 639, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 644, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/Navbar.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { Dialog } from \"@headlessui/react\";\nimport { FaBars, FaTimes } from \"react-icons/fa\";\nimport { useSession, signOut } from \"next-auth/react\";\nimport { useRouter } from \"next/navigation\"; \nconst Navbar = () => {\n  const { data: session } = useSession();\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const router = useRouter(); // Initialize useRouter\n\n  const isAdmin = session?.user?.email === 'admin@gmail.com';\n\n  const navigation = [\n    { name: \"Home\", href: \"/home\" },\n    { name: isAdmin ? \"Admin Dashboard\" : \"Dashboard\", href: isAdmin ? \"/admin/dashboard\" : \"/dashboard\" },\n    { name: isAdmin ? \"Postes\" : \"Reclamer\", href: isAdmin ? \"/admin/inventaire\" : \"/reclamations\" },\n  ];\n\n  const handleMobileMenuToggle = () => {\n    setMobileMenuOpen((prev) => !prev);\n  };\n\n  const handleSignOut = async () => {\n    await signOut({ redirect: false }); // Prevent redirection\n    router.push(\"/\"); // Redirect manually\n  };\n\n  return (\n    <header className=\"bg-white shadow-sm\">\n      <nav className=\"mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8\" aria-label=\"Global\">\n        <div className=\"flex lg:flex-1\">\n          <Link href=\"/home\" className=\"-m-1.5 p-1.5\">\n            <span className=\"sr-only\">Plastima</span>\n            <Image src=\"/logo.jpg\" width={140} height={90} alt=\"Plastima logo\" />\n          </Link>\n        </div>\n        <div className=\"hidden lg:flex lg:gap-x-12\">\n          {navigation.map((item) => (\n            <Link\n              key={item.name}\n              href={item.href}\n              className=\"text-sm font-semibold leading-6 text-gray-900 hover:text-yellow-600 hover:bg-gray-50 transition-colors duration-300 rounded-md px-3 py-2\"\n            >\n              {item.name}\n            </Link>\n          ))}\n        </div>\n        <div className=\"flex flex-1 items-center justify-end gap-x-6\">\n          {!session ? (\n            <>\n              <Link\n                href=\"/login\"\n                className=\"hidden lg:block text-sm font-semibold leading-6 text-gray-900\"\n              >\n                Log in\n              </Link>\n              <Link\n                href=\"/register\"\n                className=\"rounded-md bg-black px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-900 transition-colors duration-300\"\n              >\n                Sign up\n              </Link>\n            </>\n          ) : (\n            <>\n              <span className=\"text-sm font-medium text-gray-900\">{session.user?.email}</span>\n              <button\n                onClick={handleSignOut}\n                className=\"text-sm font-semibold leading-6 text-gray-900 hover:text-yellow-600\"\n              >\n                Log out\n              </button>\n            </>\n          )}\n          <button\n            type=\"button\"\n            className=\"-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700 lg:hidden\"\n            onClick={handleMobileMenuToggle}\n          >\n            <span className=\"sr-only\">Open main menu</span>\n            <FaBars className=\"h-6 w-6\" aria-hidden=\"true\" />\n          </button>\n        </div>\n      </nav>\n\n      <Dialog as=\"div\" className=\"lg:hidden\" open={mobileMenuOpen} onClose={() => setMobileMenuOpen(false)}>\n        <div className=\"fixed inset-0 bg-black/30\" aria-hidden=\"true\" />\n        <Dialog.Panel className=\"fixed inset-y-0 right-0 z-10 w-full max-w-sm bg-white px-6 py-6 sm:ring-1 sm:ring-gray-900/10\">\n          <div className=\"flex items-center justify-between\">\n            <Link href=\"/home\" className=\"-m-1.5 p-1.5\">\n              <span className=\"sr-only\">Plastima</span>\n              <Image width={140} height={60} src=\"/logo.jpg\" alt=\"Plastima logo mobile\" />\n            </Link>\n            <button\n              type=\"button\"\n              className=\"-m-2.5 p-2.5 text-gray-700\"\n              onClick={() => setMobileMenuOpen(false)}\n            >\n              <span className=\"sr-only\">Close menu</span>\n              <FaTimes className=\"h-6 w-6\" aria-hidden=\"true\" />\n            </button>\n          </div>\n          <div className=\"mt-6 space-y-2\">\n            {navigation.map((item) => (\n              <Link\n                key={item.name}\n                href={item.href}\n                className=\"block text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50 px-3 py-2 rounded-md\"\n              >\n                {item.name}\n              </Link>\n            ))}\n            {!session ? (\n              <>\n                <Link\n                  href=\"/login\"\n                  className=\"block rounded-md bg-black px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-900 transition-colors duration-300\"\n                >\n                  Log in\n                </Link>\n                <Link\n                  href=\"/register\"\n                  className=\"block rounded-md bg-black px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-900 transition-colors duration-300\"\n                >\n                  Sign up\n                </Link>\n              </>\n            ) : (\n              <>\n                <span className=\"block text-sm font-medium text-gray-900\">{session.user?.email}</span>\n                <button\n                  onClick={handleSignOut}\n                  className=\"block w-full rounded-md bg-black px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-900 transition-colors duration-300\"\n                >\n                  Log out\n                </button>\n              </>\n            )}\n          </div>\n        </Dialog.Panel>\n      </Dialog>\n    </header>\n  );\n};\n\nexport default Navbar;\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;;;;;;;;AAQA,MAAM,SAAS;IACb,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,aAAU,AAAD;IACnC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,+MAAA,CAAA,WAAQ,AAAD,EAAE;IACrD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD,KAAK,uBAAuB;IAEnD,MAAM,UAAU,SAAS,MAAM,UAAU;IAEzC,MAAM,aAAa;QACjB;YAAE,MAAM;YAAQ,MAAM;QAAQ;QAC9B;YAAE,MAAM,UAAU,oBAAoB;YAAa,MAAM,UAAU,qBAAqB;QAAa;QACrG;YAAE,MAAM,UAAU,WAAW;YAAY,MAAM,UAAU,sBAAsB;QAAgB;KAChG;IAED,MAAM,yBAAyB;QAC7B,kBAAkB,CAAC,OAAS,CAAC;IAC/B;IAEA,MAAM,gBAAgB;QACpB,MAAM,CAAA,GAAA,8IAAA,CAAA,UAAO,AAAD,EAAE;YAAE,UAAU;QAAM,IAAI,sBAAsB;QAC1D,OAAO,IAAI,CAAC,MAAM,oBAAoB;IACxC;IAEA,qBACE,wPAAC;QAAO,WAAU;;0BAChB,wPAAC;gBAAI,WAAU;gBAAkE,cAAW;;kCAC1F,wPAAC;wBAAI,WAAU;kCACb,cAAA,wPAAC,4HAAA,CAAA,UAAI;4BAAC,MAAK;4BAAQ,WAAU;;8CAC3B,wPAAC;oCAAK,WAAU;8CAAU;;;;;;8CAC1B,wPAAC,6HAAA,CAAA,UAAK;oCAAC,KAAI;oCAAY,OAAO;oCAAK,QAAQ;oCAAI,KAAI;;;;;;;;;;;;;;;;;kCAGvD,wPAAC;wBAAI,WAAU;kCACZ,WAAW,GAAG,CAAC,CAAC,qBACf,wPAAC,4HAAA,CAAA,UAAI;gCAEH,MAAM,KAAK,IAAI;gCACf,WAAU;0CAET,KAAK,IAAI;+BAJL,KAAK,IAAI;;;;;;;;;;kCAQpB,wPAAC;wBAAI,WAAU;;4BACZ,CAAC,wBACA;;kDACE,wPAAC,4HAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;kDAGD,wPAAC,4HAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;;6DAKH;;kDACE,wPAAC;wCAAK,WAAU;kDAAqC,QAAQ,IAAI,EAAE;;;;;;kDACnE,wPAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;;;0CAKL,wPAAC;gCACC,MAAK;gCACL,WAAU;gCACV,SAAS;;kDAET,wPAAC;wCAAK,WAAU;kDAAU;;;;;;kDAC1B,wPAAC,8IAAA,CAAA,SAAM;wCAAC,WAAU;wCAAU,eAAY;;;;;;;;;;;;;;;;;;;;;;;;0BAK9C,wPAAC,+KAAA,CAAA,SAAM;gBAAC,IAAG;gBAAM,WAAU;gBAAY,MAAM;gBAAgB,SAAS,IAAM,kBAAkB;;kCAC5F,wPAAC;wBAAI,WAAU;wBAA4B,eAAY;;;;;;kCACvD,wPAAC,+KAAA,CAAA,SAAM,CAAC,KAAK;wBAAC,WAAU;;0CACtB,wPAAC;gCAAI,WAAU;;kDACb,wPAAC,4HAAA,CAAA,UAAI;wCAAC,MAAK;wCAAQ,WAAU;;0DAC3B,wPAAC;gDAAK,WAAU;0DAAU;;;;;;0DAC1B,wPAAC,6HAAA,CAAA,UAAK;gDAAC,OAAO;gDAAK,QAAQ;gDAAI,KAAI;gDAAY,KAAI;;;;;;;;;;;;kDAErD,wPAAC;wCACC,MAAK;wCACL,WAAU;wCACV,SAAS,IAAM,kBAAkB;;0DAEjC,wPAAC;gDAAK,WAAU;0DAAU;;;;;;0DAC1B,wPAAC,8IAAA,CAAA,UAAO;gDAAC,WAAU;gDAAU,eAAY;;;;;;;;;;;;;;;;;;0CAG7C,wPAAC;gCAAI,WAAU;;oCACZ,WAAW,GAAG,CAAC,CAAC,qBACf,wPAAC,4HAAA,CAAA,UAAI;4CAEH,MAAM,KAAK,IAAI;4CACf,WAAU;sDAET,KAAK,IAAI;2CAJL,KAAK,IAAI;;;;;oCAOjB,CAAC,wBACA;;0DACE,wPAAC,4HAAA,CAAA,UAAI;gDACH,MAAK;gDACL,WAAU;0DACX;;;;;;0DAGD,wPAAC,4HAAA,CAAA,UAAI;gDACH,MAAK;gDACL,WAAU;0DACX;;;;;;;qEAKH;;0DACE,wPAAC;gDAAK,WAAU;0DAA2C,QAAQ,IAAI,EAAE;;;;;;0DACzE,wPAAC;gDACC,SAAS;gDACT,WAAU;0DACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjB;uCAEe"}},
    {"offset": {"line": 996, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}